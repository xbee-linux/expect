schema-version: 1.0

type: builder

dependency: tcl

in:
  version:
    
provision:
  - url:
      from: https://prdownloads.sourceforge.net/expect/expect{% version %}.tar.gz
      todir: "{% xbeeSrc %}"
      wget: true
  - folder: "{% xbeeOut %}/usr/lib/x86_64-linux-gnu"

build:
  - shell:
      cmds:
        - ./configure --prefix=/usr --with-tcl=/usr/lib --enable-shared --mandir=/usr/share/man --with-tclinclude=/usr/include
        - make
        - make install DESTDIR={% xbeeOut %}
        - cp expect {% xbeeOut %}/usr/bin
        - cp libexpect{% version %}.so {% xbeeOut %}/usr/lib/x86_64-linux-gnu
      directory: "{% xbeeSrc %}/expect{% version %}"

